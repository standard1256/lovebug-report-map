<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ëŸ¬ë¸Œë²„ê·¸ ì œë³´ë§µ (ì¹´ì¹´ì˜¤ë§µ)</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    #map { width: 100%; height: 500px; margin-bottom: 10px; }
    #report { margin-top: 10px; }
    input, button {
      width: 100%; padding: 10px; margin-top: 5px; box-sizing: border-box;
    }
    button {
      background-color: #d43f3a; color: white; border: none; cursor: pointer;
    }
  </style>
  <!-- âœ… ì—¬ê¸°ì— ë°œê¸‰ë°›ì€ JavaScript ì•± í‚¤ ì…ë ¥ -->
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=23078ec678a1dc5c372245e4940c4a78&libraries=services"></script>
</head>
<body>

  <h1>ğŸ ëŸ¬ë¸Œë²„ê·¸ ì œë³´ë§µ (Kakao Map)</h1>
  <div id="map"></div>

  <div id="report">
    <input type="text" id="desc" placeholder="ì œë³´ ì„¤ëª… (ì˜ˆ: 7ì›” 16ì¼ ì„œìš¸ ê´€ì•…ì‚° ë“±ì‚°ë¡œ ì£¼ë³€)" />
    <button onclick="submitReport()">ğŸ“ í˜„ì¬ ìœ„ì¹˜ë¡œ ì œë³´í•˜ê¸°</button>
  </div>

  <script>
    let map;

    navigator.geolocation.getCurrentPosition(function(pos) {
      const lat = pos.coords.latitude;
      const lng = pos.coords.longitude;
      const container = document.getElementById('map');
      const options = {
        center: new kakao.maps.LatLng(lat, lng),
        level: 3
      };
      map = new kakao.maps.Map(container, options);

      // ë‚´ ìœ„ì¹˜ ë§ˆì»¤
      new kakao.maps.Marker({
        position: new kakao.maps.LatLng(lat, lng),
        map: map,
        title: "ë‚´ ìœ„ì¹˜"
      });
    }, function() {
      alert("ìœ„ì¹˜ ì •ë³´ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.");
    });

  function submitReport() {
  const desc = document.getElementById("desc").value;
  if (!desc) {
    alert("ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    return;
  }

  navigator.geolocation.getCurrentPosition(function(pos) {
    const lat = pos.coords.latitude;
    const lng = pos.coords.longitude;

    // âœ… ë‚´ ìœ„ì¹˜ë¡œ ì§€ë„ ì¤‘ì‹¬ ì´ë™
    map.setCenter(new kakao.maps.LatLng(lat, lng));

    const marker = new kakao.maps.Marker({
      position: new kakao.maps.LatLng(lat, lng),
      map: map
    });

    const info = new kakao.maps.InfoWindow({
      content: `<div style="padding:5px; font-size:14px;">ğŸ“ ì œë³´: ${desc}</div>`
    });

    info.open(map, marker);
    document.getElementById("desc").value = "";
    alert("ì œë³´ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!");
  }, function() {
    alert("ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
  });
}


</body>
</html>



